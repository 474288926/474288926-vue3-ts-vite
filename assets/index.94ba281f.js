var R=Object.defineProperty;var p=Object.getOwnPropertySymbols;var y=Object.prototype.hasOwnProperty,L=Object.prototype.propertyIsEnumerable;var E=(t,e,o)=>e in t?R(t,e,{enumerable:!0,configurable:!0,writable:!0,value:o}):t[e]=o,d=(t,e)=>{for(var o in e||(e={}))y.call(e,o)&&E(t,o,e[o]);if(p)for(var o of p(e))L.call(e,o)&&E(t,o,e[o]);return t};import{c as F,u as O,N as l,a as j,b as P,d as D,e as T,r as k,f as w,o as I,E as V,g as S,h as C,i as B,j as M,k as $,l as H,m as N,n as G,p as U,q,s as J,t as K,v as W,w as z,x as Q,y as X,z as Y,A as Z,B as ee,C as te,D as oe,F as se,G as ne,H as ae,I as re,J as ue,K as ce,L as ie,M as le,O as me,P as pe,Q as Ee,R as de,S as _e}from"./vendor.6a1449de.js";const fe=function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const s of document.querySelectorAll('link[rel="modulepreload"]'))n(s);new MutationObserver(s=>{for(const a of s)if(a.type==="childList")for(const u of a.addedNodes)u.tagName==="LINK"&&u.rel==="modulepreload"&&n(u)}).observe(document,{childList:!0,subtree:!0});function o(s){const a={};return s.integrity&&(a.integrity=s.integrity),s.referrerpolicy&&(a.referrerPolicy=s.referrerpolicy),s.crossorigin==="use-credentials"?a.credentials="include":s.crossorigin==="anonymous"?a.credentials="omit":a.credentials="same-origin",a}function n(s){if(s.ep)return;s.ep=!0;const a=o(s);fetch(s.href,a)}};fe();const he="modulepreload",_={},ve="./",r=function(e,o){return!o||o.length===0?e():Promise.all(o.map(n=>{if(n=`${ve}${n}`,n in _)return;_[n]=!0;const s=n.endsWith(".css"),a=s?'[rel="stylesheet"]':"";if(document.querySelector(`link[href="${n}"]${a}`))return;const u=document.createElement("link");if(u.rel=s?"stylesheet":he,s||(u.as="script",u.crossOrigin=""),u.href=n,document.head.appendChild(u),s)return new Promise((i,A)=>{u.addEventListener("load",i),u.addEventListener("error",A)})})).then(()=>e())};const be={namespaced:!0,state:{name:"numFactory-module",count:1},mutations:{DOUBLE_COUNT(t){t.count*=2}},actions:{}};function ge(t,e){return e.meta&&e.meta.roles?t.some(o=>e.meta.roles.includes(o)):!0}function f(t,e){const o=[];return t.forEach(n=>{const s=d({},n);ge(e,s)&&(s.children&&(s.children=f(s.children,e)),o.push(s))}),o}const xe={namespaced:!0,state:{routes:[],addRoutes:[]},mutations:{SET_ROUTES:(t,e)=>{t.addRoutes=e;let o=b[1].children.concat(e);t.routes=o}},actions:{generateRoutes({commit:t},e){return new Promise(o=>{let n;e.includes("admin")?n=g||[]:(console.log("\u6743\u9650\u4E0D\u662Fadmin"),n=f(g,e)),console.log("\u6743\u9650\u8FC7\u6EE4\u7684\u8DEF\u7531",n),t("SET_ROUTES",n),o(n)})}}},Ae={namespaced:!0,state:{roles:[]},mutations:{SET_ROLES(t,e){t.roles.push(e)}},actions:{}},m=F({state:{text:"vue3Config"},getters:{},mutations:{},actions:{},modules:{numFactoryModule:be,permissionModule:xe,userModule:Ae}}),h=Symbol("vue-store");function we(){return O(h)}const Re={"../views/Home.vue":()=>r(()=>import("./Home.6b5cae49.js"),["assets/Home.6b5cae49.js","assets/Home.873ba3c1.css","assets/vendor.6a1449de.js","assets/vendor.f07ec787.css"]),"../views/Login.vue":()=>r(()=>import("./Login.66574f1e.js"),["assets/Login.66574f1e.js","assets/Login.f1d82556.css","assets/vendor.6a1449de.js","assets/vendor.f07ec787.css"]),"../views/Test.vue":()=>r(()=>import("./Test.4302418f.js"),["assets/Test.4302418f.js","assets/Test.8cd61fdf.css","assets/vendor.6a1449de.js","assets/vendor.f07ec787.css"]),"../views/Vuex.vue":()=>r(()=>import("./Vuex.88ca789e.js"),["assets/Vuex.88ca789e.js","assets/vendor.6a1449de.js","assets/vendor.f07ec787.css"]),"../views/Example/Example.vue":()=>r(()=>import("./Example.061bd272.js"),["assets/Example.061bd272.js","assets/vendor.6a1449de.js","assets/vendor.f07ec787.css"]),"../views/layout/layout.vue":()=>r(()=>import("./layout.f9b809e3.js"),["assets/layout.f9b809e3.js","assets/layout.212b080d.css","assets/vendor.6a1449de.js","assets/vendor.f07ec787.css"]),"../views/Example/comps/button.vue":()=>r(()=>import("./button.d0af88aa.js"),["assets/button.d0af88aa.js","assets/vendor.6a1449de.js","assets/vendor.f07ec787.css"]),"../views/Example/comps/cascader.vue":()=>r(()=>import("./cascader.54ed698a.js"),["assets/cascader.54ed698a.js","assets/vendor.6a1449de.js","assets/vendor.f07ec787.css"]),"../views/Example/comps/checkbox.vue":()=>r(()=>import("./checkbox.a1bd4071.js"),["assets/checkbox.a1bd4071.js","assets/vendor.6a1449de.js","assets/vendor.f07ec787.css"]),"../views/Example/comps/datepicker.vue":()=>r(()=>import("./datepicker.0bdc5e03.js"),["assets/datepicker.0bdc5e03.js","assets/vendor.6a1449de.js","assets/vendor.f07ec787.css"]),"../views/Example/comps/input.vue":()=>r(()=>import("./input.a96571a8.js"),["assets/input.a96571a8.js","assets/vendor.6a1449de.js","assets/vendor.f07ec787.css"]),"../views/Example/comps/select.vue":()=>r(()=>import("./select.9d693c3a.js"),["assets/select.9d693c3a.js","assets/vendor.6a1449de.js","assets/vendor.f07ec787.css"]),"../views/Example/comps/table.vue":()=>r(()=>import("./table.a04d706f.js"),["assets/table.a04d706f.js","assets/table.99d36efb.css","assets/vendor.6a1449de.js","assets/vendor.f07ec787.css"])},ye=t=>Re[`../views/${t}.vue`],v=t=>t.filter(e=>{if(e.component)return e.component=ye(e.component),e.children&&e.children.length&&(e.children=v(e.children)),!0});l.configure({showSpinner:!1});const Le=()=>r(()=>import("./layout.f9b809e3.js"),["assets/layout.f9b809e3.js","assets/layout.212b080d.css","assets/vendor.6a1449de.js","assets/vendor.f07ec787.css"]),b=[{path:"/",redirect:"/home"},{path:"/layout",name:"layout",component:Le,children:[{path:"/home",name:"Home",icon:"el-icon-menu",component:()=>r(()=>import("./Home.6b5cae49.js"),["assets/Home.6b5cae49.js","assets/Home.873ba3c1.css","assets/vendor.6a1449de.js","assets/vendor.f07ec787.css"])}]},{path:"/login",name:"Login",component:()=>r(()=>import("./Login.66574f1e.js"),["assets/Login.66574f1e.js","assets/Login.f1d82556.css","assets/vendor.6a1449de.js","assets/vendor.f07ec787.css"])}],g=[{path:"/vuex",name:"Vuex",icon:"el-icon-menu",meta:{roles:["admin","user"]},component:"Vuex"},{path:"/test",name:"Test",icon:"el-icon-menu",meta:{roles:["admin"]},component:"Test"},{path:"/example",name:"\u7EC4\u4EF6\u793A\u4F8B",icon:"el-icon-menu",meta:{roles:["user"]},component:"Example/Example",children:[{path:"/table",name:"table\uFF1A\u8868\u683C",meta:{roles:["user"]},component:"Example/comps/table"},{path:"/input",name:"input\uFF1A\u8F93\u5165\u6846",meta:{roles:["user"]},component:"Example/comps/input"},{path:"/select",name:"select\uFF1A\u9009\u62E9\u6846",meta:{roles:["user"]},component:"Example/comps/select"},{path:"/cascader",name:"cascader\uFF1A\u7EA7\u8054\u9009\u62E9\u5668",meta:{roles:["admin"]},component:"Example/comps/cascader"},{path:"/checkbox",name:"checkbox\uFF1A\u591A\u9009\u6846",meta:{roles:["admin"]},component:"Example/comps/checkbox"},{path:"/datepicker",name:"datepicker\uFF1A\u65E5\u671F\u9009\u62E9\u5668",meta:{roles:["admin"]},component:"Example/comps/datepicker"},{path:"/button",name:"button\uFF1A\u6309\u94AE",meta:{roles:["admin"]},component:"Example/comps/button"}]}],c=j({history:P(),routes:b});c.beforeEach(async(t,e,o)=>{l.start();const{roles:n}=m.state.userModule,s=await m.dispatch("permissionModule/generateRoutes",n);let a=v(JSON.parse(JSON.stringify(s)));if(console.log("\u6743\u9650\u8FD4\u56DE\u7684\u8DEF\u7531",a),a.forEach(i=>{console.log("\u6DFB\u52A0\u8DEF\u7531",i),c.addRoute("layout",i)}),console.log("\u5237\u65B0\u8DEF\u7531"),console.log(s),console.log("\u6DFB\u52A0\u540E\u7684\u8DEF\u7531",c.getRoutes()),t.path==="/login")return o();if(!D.get("token"))return o({name:"Login"});o()});c.afterEach(t=>{l.done()});var Fe=(t,e)=>{const o=t.__vccOpts||t;for(const[n,s]of e)o[n]=s;return o};const Oe=T({name:"App"});function je(t,e,o,n,s,a){const u=k("router-view");return I(),w(u)}var Pe=Fe(Oe,[["render",je]]);function De(t){return[V,S,C,B,M,$,H,N,G,U,q,J,K,W,z,Q,X,Y,Z,ee,te,oe,se,ne,ae,re,ue,ce,ie,le,me,pe,Ee,de].forEach(e=>{t.use(e)}),t}const x=_e(Pe);x.config.globalProperties.$NProgress=l;De(x).use(c).use(m,h).mount("#app");export{Fe as _,m as s,we as u};
